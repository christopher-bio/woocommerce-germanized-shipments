window.germanized=window.germanized||{},window.germanized.admin=window.germanized.admin||{},function(d){window.germanized.admin.shipping_provider_method={params:{},currentProvider:"",init:function(){var e=germanized.admin.shipping_provider_method;e.params=wc_gzd_admin_shipping_provider_method_params,d(document).on("change","select[id$=shipping_provider]",e.showOrHideAll).on("click",".wc-gzd-shipping-provider-method-tabs .nav-tab-wrapper a.nav-tab",e.onChangeTab).on("change",".override-checkbox :input",e.onChangeOverride),d(document.body).on("wc_backbone_modal_loaded",e.onShippingMethodOpen),0<d("select[id$=shipping_provider]").length&&d("select[id$=shipping_provider]").trigger("change")},parseFieldId:function(e){return e.replace("[","_").replace("]","")},onChangeOverride:function(){germanized.admin.shipping_provider_method;var e=d(this),i=e.is(":checked"),e=e.parents(".wc-gzd-shipping-provider-override-wrapper");i?e.find(".wc-gzd-shipping-provider-override-inner-wrapper").addClass("has-override"):e.find(".wc-gzd-shipping-provider-override-inner-wrapper").removeClass("has-override")},onChangeTab:function(){germanized.admin.shipping_provider_method;var e=d(this),i=e.parents("form"),n=e.attr("href").replace("#",""),n=i.find('.wc-gzd-shipping-provider-method-tab-content[data-tab="'+n+'"]');return e.parents(".wc-gzd-shipping-provider-method-tabs").find(".nav-tab-active").removeClass("nav-tab-active"),i.find(".wc-gzd-shipping-provider-method-tab-content").removeClass("tab-content-active"),0<n.length&&(e.addClass("nav-tab-active"),n.addClass("tab-content-active"),n.find(":input:visible").trigger("change")),!1},getCleanInputId:function(e){var i=germanized.admin.shipping_provider_method.currentProvider,e=e.attr("id")?e.attr("id"):e.attr("name");return!!e&&(i&&0<=e.toLowerCase().indexOf("-p-"+i+"-")?e.substring(e.lastIndexOf("-p-"+i+"-"),e.length):e)},onShippingMethodOpen:function(e,i){"wc-modal-shipping-method-settings"===i&&($wrapper=d(".wc-modal-shipping-method-settings"),0<d("select[id$=shipping_provider]").length)&&$wrapper.find("select[id$=shipping_provider]").trigger("change")},showOrHideAll:function(){var i=germanized.admin.shipping_provider_method,e=d(this),n=e.find("option"),r=e.parents("form");i.currentProvider=e.val(),n.each(function(){var e=d(this).val();0<e.length&&r.find("table.form-table").each(function(){0<d(this).find(":input[id*=_"+e+"_]").length&&i.hideTable(d(this))})}),r.find(".wc-gzd-shipping-provider-method-tabs").hide(),r.find(".wc-gzd-shipping-provider-method-tab-content").removeClass("tab-content-active"),0<i.currentProvider.length&&(r.find("table.form-table").each(function(){0<d(this).find(":input[id*=_"+i.currentProvider+"_]").length&&i.showTable(d(this))}),r.find('.wc-gzd-shipping-provider-method-tabs[data-provider="'+i.currentProvider+'"]').show(),r.find('.wc-gzd-shipping-provider-method-tabs[data-provider="'+i.currentProvider+'"] .nav-tab-wrapper').find("a.nav-tab:first").trigger("click"),r.find(":input[id*=_"+i.currentProvider+"_]:visible").trigger("change"))},hideTable:function(e){if(0<e.find("select[id$=shipping_provider]").length)return!1;e.prevUntil("table.form-table").hide(),e.hide()},showTable:function(e){e.prevUntil("table.form-table").show(),e.show()}},d(document).ready(function(){germanized.admin.shipping_provider_method.init()})}(jQuery);